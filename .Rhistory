semig <- readRDS("~/jsPsych/pilotresults/results/id=18&p_id=f99b330c9dbefe4880be8dd3012af7686edfbec14e8a9627416756cd1cecfd7e&save_id=3&pilot=false&complete=true.rds")
View(semig)
View(semig)
###############################################
# Extraction of data from Danish GoldMSI      #
# implementation in psychTestR                #
# Author: Niels Chr. Hansen                   #
# Date: 2019-11-10                            #
###############################################
# INITIALIZE
library(jsonlite)
# LIST FILES IN WORKING DIRECTORY (ignoring folders and recursives)
files <- setdiff(list.files(paste0(getwd(),"/pilotresults/results"),include.dirs=F,all.files=F),list.dirs(paste0(getwd(),"/pilotresults/results"),full.names=F))
# CREATE OUTPUT FILE
output <- data.frame(id=character(),
gender=character(),
age=numeric(),
zip_code=character(),
gaming=numeric(),
nationality=character(),
residence=character(),
youth_country=character(),
employment=character(),
education_completed=character(),
education_expected=character(),
stringsAsFactors=F)
# EXTRACT AND SAVE VARIABLES OF INTEREST
for (i in 1:length(files)) {
results <- readRDS(paste0(getwd(),"/pilotresults/results/",files[i]))
output[i,"id"] <- results$session$p_id
if ("Demographics"%in%names(results)) {
output[i,2:10] <- results$Demographics[c("gender","age","zip_code","gaming","nationality","residence","youth_country","employment","education_completed")]
if (output[i,"education_completed"]=="Stadig under uddannelse") output[i,"education_expected"] <- results$Demographics["education_expected"]
}
#session <-  results$session
#GMSI <- results$GMSI
#TestOrder <- results$results$TestOrder_MPT_RT
#MPT <- results$MPT
RT <- fromJSON(as.character(results$RT))
}
# CHANGE VARIABLE MODES
output[,c("age","gaming")] <- lapply(output[,c("age","gaming")],as.numeric)
output[,c("id","gender","zip_code","nationality","residence","youth_country","employment","education_completed","education_expected")] <- lapply(output[,c("id","gender","zip_code","nationality","residence","youth_country","employment","education_completed","education_expected")],as.factor)
# DISPLAY DATA
par(mfrow=(c(2,2)))
barplot(table(output$gender),main="Køn")
boxplot(output$age,main="Alder",ylab="År"); points(jitter(rep(1,length(output$age)),factor=2),output$age,pch=4)
barplot(table(output$zip_code),main="Postnummer")
boxplot(output$age,main="Gaming",ylab="Timer/m?ned"); points(jitter(rep(1,length(output$gaming)),factor=2),output$gaming,pch=4)
# SAVE PRELIMINARY RESULTS
write.csv(output,paste0(getwd(),"/pilotresults/prelimDemographics_",Sys.Date(),".csv"))
###############################################
# Extraction of data from Danish GoldMSI      #
# implementation in psychTestR                #
# Author: Niels Chr. Hansen                   #
# Date: 2019-11-10                            #
###############################################
# INITIALIZE
library(jsonlite)
# LIST FILES IN WORKING DIRECTORY (ignoring folders and recursives)
files <- setdiff(list.files(paste0(getwd(),"/pilotresults/results"),include.dirs=F,all.files=F),list.dirs(paste0(getwd(),"/pilotresults/results"),full.names=F))
# CREATE OUTPUT FILE
output <- data.frame(id=character(),
gender=character(),
age=numeric(),
zip_code=character(),
gaming=numeric(),
nationality=character(),
residence=character(),
youth_country=character(),
employment=character(),
education_completed=character(),
education_expected=character(),
stringsAsFactors=F)
# EXTRACT AND SAVE VARIABLES OF INTEREST
for (i in 1:length(files)) {
results <- readRDS(paste0(getwd(),"/pilotresults/results/",files[i]))
output[i,"id"] <- results$session$p_id
if ("Demographics"%in%names(results)) {
output[i,2:10] <- results$Demographics[c("gender","age","zip_code","gaming","nationality","residence","youth_country","employment","education_completed")]
if (output[i,"education_completed"]=="Stadig under uddannelse") output[i,"education_expected"] <- results$Demographics["education_expected"]
}
#session <-  results$session
#GMSI <- results$GMSI
#TestOrder <- results$results$TestOrder_MPT_RT
#MPT <- results$MPT
RT <- fromJSON(as.character(results$RT))
}
# CHANGE VARIABLE MODES
output[,c("age","gaming")] <- lapply(output[,c("age","gaming")],as.numeric)
output[,c("id","gender","zip_code","nationality","residence","youth_country","employment","education_completed","education_expected")] <- lapply(output[,c("id","gender","zip_code","nationality","residence","youth_country","employment","education_completed","education_expected")],as.factor)
# DISPLAY DATA
par(mfrow=(c(2,2)))
barplot(table(output$gender),main="Køn")
boxplot(output$age,main="Alder",ylab="År"); points(jitter(rep(1,length(output$age)),factor=2),output$age,pch=4)
barplot(table(output$zip_code),main="Postnummer")
boxplot(output$age,main="Gaming",ylab="Timer/m?ned"); points(jitter(rep(1,length(output$gaming)),factor=2),output$gaming,pch=4)
for (i in 1:length(files)) {
results <- readRDS(paste0(getwd(),"/pilotresults/results/",files[i]))
output[i,"id"] <- results$session$p_id
if ("Demographics"%in%names(results)) {
output[i,2:10] <- results$Demographics[c("gender","age","zip_code","gaming","nationality","residence","youth_country","employment","education_completed")]
if (output[i,"education_completed"]=="Stadig under uddannelse") output[i,"education_expected"] <- results$Demographics["education_expected"]
}
#session <-  results$session
#GMSI <- results$GMSI
#TestOrder <- results$results$TestOrder_MPT_RT
#MPT <- results$MPT
RT <- fromJSON(as.character(results$RT))
}
# INITIALIZE
library(jsonlite)
# LIST FILES IN WORKING DIRECTORY (ignoring folders and recursives)
files <- setdiff(list.files(paste0(getwd(),"/pilotresults/results"),include.dirs=F,all.files=F),list.dirs(paste0(getwd(),"/pilotresults/results"),full.names=F))
# CREATE OUTPUT FILE
output <- data.frame(id=character(),
gender=character(),
age=numeric(),
zip_code=character(),
gaming=numeric(),
nationality=character(),
residence=character(),
youth_country=character(),
employment=character(),
education_completed=character(),
education_expected=character(),
stringsAsFactors=F)
for (i in 1:length(files)) {
results <- readRDS(paste0(getwd(),"/pilotresults/results/",files[i]))
output[i,"id"] <- results$session$p_id
if ("Demographics"%in%names(results)) {
output[i,2:10] <- results$Demographics[c("gender","age","zip_code","gaming","nationality","residence","youth_country","employment","education_completed")]
if (output[i,"education_completed"]=="Stadig under uddannelse") output[i,"education_expected"] <- results$Demographics["education_expected"]
}
#session <-  results$session
#GMSI <- results$GMSI
#TestOrder <- results$results$TestOrder_MPT_RT
#MPT <- results$MPT
RT <- fromJSON(as.character(results$RT))
}
View(results)
i=18
results <- readRDS(paste0(getwd(),"/pilotresults/results/",files[i]))
rm(results)
results <- readRDS(paste0(getwd(),"/pilotresults/results/",files[i]))
i=10
results <- readRDS(paste0(getwd(),"/pilotresults/results/",files[i]))
###############################################
# Extraction of data from Danish GoldMSI      #
# implementation in psychTestR                #
# Author: Niels Chr. Hansen                   #
# Date: 2019-11-10                            #
###############################################
# INITIALIZE
library(jsonlite)
# LIST FILES IN WORKING DIRECTORY (ignoring folders and recursives)
files <- setdiff(list.files(paste0(getwd(),"/pilotresults/results"),include.dirs=F,all.files=F),list.dirs(paste0(getwd(),"/pilotresults/results"),full.names=F))
# CREATE OUTPUT FILE
output <- data.frame(id=character(),
gender=character(),
age=numeric(),
zip_code=character(),
gaming=numeric(),
nationality=character(),
residence=character(),
youth_country=character(),
employment=character(),
education_completed=character(),
education_expected=character(),
stringsAsFactors=F)
# EXTRACT AND SAVE VARIABLES OF INTEREST
for (i in 1:length(files)) {
results <- readRDS(paste0(getwd(),"/pilotresults/results/",files[i]))
output[i,"id"] <- results$session$p_id
if ("Demographics"%in%names(results)) {
output[i,2:10] <- results$Demographics[c("gender","age","zip_code","gaming","nationality","residence","youth_country","employment","education_completed")]
if (output[i,"education_completed"]=="Stadig under uddannelse") output[i,"education_expected"] <- results$Demographics["education_expected"]
}
#session <-  results$session
#GMSI <- results$GMSI
#TestOrder <- results$results$TestOrder_MPT_RT
#MPT <- results$MPT
# RT <- fromJSON(as.character(results$RT))
}
# CHANGE VARIABLE MODES
output[,c("age","gaming")] <- lapply(output[,c("age","gaming")],as.numeric)
output[,c("id","gender","zip_code","nationality","residence","youth_country","employment","education_completed","education_expected")] <- lapply(output[,c("id","gender","zip_code","nationality","residence","youth_country","employment","education_completed","education_expected")],as.factor)
# DISPLAY DATA
par(mfrow=(c(2,2)))
barplot(table(output$gender),main="Køn")
boxplot(output$age,main="Alder",ylab="År"); points(jitter(rep(1,length(output$age)),factor=2),output$age,pch=4)
barplot(table(output$zip_code),main="Postnummer")
boxplot(output$age,main="Gaming",ylab="Timer/m?ned"); points(jitter(rep(1,length(output$gaming)),factor=2),output$gaming,pch=4)
# SAVE PRELIMINARY RESULTS
write.csv(output,paste0(getwd(),"/pilotresults/prelimDemographics_",Sys.Date(),".csv"))
View(output)
View(output)
i=10
results <- readRDS(paste0(getwd(),"/pilotresults/results/",files[i]))
for (i in 1:length(files)) {
results <- readRDS(paste0(getwd(),"/pilotresults/results/",files[i]))
output[i,"id"] <- results$session$p_id
output[i,"RT"] <- fromJSON(as.character(results$RT))
if ("Demographics"%in%names(results)) {
output[i,2:10] <- results$Demographics[c("gender","age","zip_code","gaming","nationality","residence","youth_country","employment","education_completed")]
if (output[i,"education_completed"]=="Stadig under uddannelse") output[i,"education_expected"] <- results$Demographics["education_expected"]
}
#session <-  results$session
#GMSI <- results$GMSI
#TestOrder <- results$results$TestOrder_MPT_RT
#MPT <- results$MPT
# RT <- fromJSON(as.character(results$RT))
}
View(output)
lenght(results)
length(results)
for (i in 1:length(files)) {
results <- readRDS(paste0(getwd(),"/pilotresults/results/",files[i]))
if(length(results)!=6){
next
}
output[i,"id"] <- results$session$p_id
output[i,"RT"] <- fromJSON(as.character(results$RT))
if ("Demographics"%in%names(results)) {
output[i,2:10] <- results$Demographics[c("gender","age","zip_code","gaming","nationality","residence","youth_country","employment","education_completed")]
if (output[i,"education_completed"]=="Stadig under uddannelse") output[i,"education_expected"] <- results$Demographics["education_expected"]
}
#session <-  results$session
#GMSI <- results$GMSI
#TestOrder <- results$results$TestOrder_MPT_RT
#MPT <- results$MPT
# RT <- fromJSON(as.character(results$RT))
}
for (i in 1:length(files)) {
results <- readRDS(paste0(getwd(),"/pilotresults/results/",files[i]))
if(length(results)!=6){
next
}
output[i,"id"] <- results$session$p_id
#  output[i,"RT"] <- fromJSON(as.character(results$RT))
if ("Demographics"%in%names(results)) {
output[i,2:10] <- results$Demographics[c("gender","age","zip_code","gaming","nationality","residence","youth_country","employment","education_completed")]
if (output[i,"education_completed"]=="Stadig under uddannelse") output[i,"education_expected"] <- results$Demographics["education_expected"]
}
#session <-  results$session
#GMSI <- results$GMSI
#TestOrder <- results$results$TestOrder_MPT_RT
#MPT <- results$MPT
# RT <- fromJSON(as.character(results$RT))
}
# LIST FILES IN WORKING DIRECTORY (ignoring folders and recursives)
files <- setdiff(list.files(paste0(getwd(),"/pilotresults/results"),include.dirs=F,all.files=F),list.dirs(paste0(getwd(),"/pilotresults/results"),full.names=F))
# CREATE OUTPUT FILE
output <- data.frame(id=character(),
gender=character(),
age=numeric(),
zip_code=character(),
gaming=numeric(),
nationality=character(),
residence=character(),
youth_country=character(),
employment=character(),
education_completed=character(),
education_expected=character(),
stringsAsFactors=F)
for (i in 1:length(files)) {
results <- readRDS(paste0(getwd(),"/pilotresults/results/",files[i]))
if(length(results)!=6){
next
}
output[i,"id"] <- results$session$p_id
#  output[i,"RT"] <- fromJSON(as.character(results$RT))
if ("Demographics"%in%names(results)) {
output[i,2:10] <- results$Demographics[c("gender","age","zip_code","gaming","nationality","residence","youth_country","employment","education_completed")]
if (output[i,"education_completed"]=="Stadig under uddannelse") output[i,"education_expected"] <- results$Demographics["education_expected"]
}
#session <-  results$session
#GMSI <- results$GMSI
#TestOrder <- results$results$TestOrder_MPT_RT
#MPT <- results$MPT
# RT <- fromJSON(as.character(results$RT))
}
View(results)
View(results)
View(output)
for (i in 1:length(files)) {
results <- readRDS(paste0(getwd(),"/pilotresults/results/",files[i]))
# if(length(results)!=6){
#   next
# }
output[i,"id"] <- results$session$p_id
output[i,"RT"] <- fromJSON(as.character(results$RT))
if ("Demographics"%in%names(results)) {
output[i,2:10] <- results$Demographics[c("gender","age","zip_code","gaming","nationality","residence","youth_country","employment","education_completed")]
if (output[i,"education_completed"]=="Stadig under uddannelse") output[i,"education_expected"] <- results$Demographics["education_expected"]
}
#session <-  results$session
#GMSI <- results$GMSI
#TestOrder <- results$results$TestOrder_MPT_RT
#MPT <- results$MPT
# RT <- fromJSON(as.character(results$RT))
}
# LIST FILES IN WORKING DIRECTORY (ignoring folders and recursives)
files <- setdiff(list.files(paste0(getwd(),"/pilotresults/results"),include.dirs=F,all.files=F),list.dirs(paste0(getwd(),"/pilotresults/results"),full.names=F))
# CREATE OUTPUT FILE
output <- data.frame(id=character(),
gender=character(),
age=numeric(),
zip_code=character(),
gaming=numeric(),
nationality=character(),
residence=character(),
youth_country=character(),
employment=character(),
education_completed=character(),
education_expected=character(),
stringsAsFactors=F)
for (i in 1:length(files)) {
results <- readRDS(paste0(getwd(),"/pilotresults/results/",files[i]))
# if(length(results)!=6){
#   next
# }
output[i,"id"] <- results$session$p_id
output[i,"RT"] <- fromJSON(as.character(results$RT))
if ("Demographics"%in%names(results)) {
output[i,2:10] <- results$Demographics[c("gender","age","zip_code","gaming","nationality","residence","youth_country","employment","education_completed")]
if (output[i,"education_completed"]=="Stadig under uddannelse") output[i,"education_expected"] <- results$Demographics["education_expected"]
}
#session <-  results$session
#GMSI <- results$GMSI
#TestOrder <- results$results$TestOrder_MPT_RT
#MPT <- results$MPT
# RT <- fromJSON(as.character(results$RT))
}
# LIST FILES IN WORKING DIRECTORY (ignoring folders and recursives)
files <- setdiff(list.files(paste0(getwd(),"/pilotresults/results"),include.dirs=F,all.files=F),list.dirs(paste0(getwd(),"/pilotresults/results"),full.names=F))
# CREATE OUTPUT FILE
output <- data.frame(id=character(),
gender=character(),
age=numeric(),
zip_code=character(),
gaming=numeric(),
nationality=character(),
residence=character(),
youth_country=character(),
employment=character(),
education_completed=character(),
education_expected=character(),
stringsAsFactors=F)
for (i in 1:length(files)) {
results <- readRDS(paste0(getwd(),"/pilotresults/results/",files[i]))
# if(length(results)!=6){
#   next
# }
output[i,"id"] <- results$session$p_id
#  output[i,"RT"] <- fromJSON(as.character(results$RT))
if ("Demographics"%in%names(results)) {
output[i,2:10] <- results$Demographics[c("gender","age","zip_code","gaming","nationality","residence","youth_country","employment","education_completed")]
if (output[i,"education_completed"]=="Stadig under uddannelse") output[i,"education_expected"] <- results$Demographics["education_expected"]
}
#session <-  results$session
#GMSI <- results$GMSI
#TestOrder <- results$results$TestOrder_MPT_RT
#MPT <- results$MPT
# RT <- fromJSON(as.character(results$RT))
}
View(output)
pil10 <- readRDS("~/jsPsych/pilotresults/results/id=18&p_id=f99b330c9dbefe4880be8dd3012af7686edfbec14e8a9627416756cd1cecfd7e&save_id=3&pilot=false&complete=true.rds")
str(pil10$RT)
str(pil10$RT[[1]])
View(pil10)
str((fromJSON(as.character(pil10$RT))))
hej=(fromJSON(as.character(pil10$RT)))
str(hej)
str(hej$summary)
hej2=(hej$summary)
hej2$rt_real
hej3=hej2$rt_real
hej4=na.omit(hej3)
hej4
hej4[1]
hej4[2,4,6]
hej4[c(2,4,6)]
mean(hej4[c(2,4,6)])
pil1 <- readRDS("~/jsPsych/pilotresults/results/id=11&p_id=77b642b006db0aaf210a790d95e6f4b8144074280dd6b9da8e0a3a0e4426c5ed&save_id=3&pilot=false&complete=true.rds")
hej=(fromJSON(as.character(pil1$RT)))
hej2=(hej$summary)
hej3=hej2$rt_real
hej4=na.omit(hej3)
hej4
pil2 <- readRDS("~/jsPsych/pilotresults/results/id=14&p_id=dc707aa5a6536e6324114f1e6b3e8c1d327554a88b06a5d9cb2aaa42b9915f18&save_id=3&pilot=false&complete=true.rds")
hej=(fromJSON(as.character(pil2$RT)))
hej2=(hej$summary)
hej3=hej2$rt_real
hej4=na.omit(hej3)
hej4
View(output)
pil1 <- readRDS("~/jsPsych/pilotresults/results/id=14&p_id=dc707aa5a6536e6324114f1e6b3e8c1d327554a88b06a5d9cb2aaa42b9915f18&save_id=3&pilot=false&complete=true.rds")
pil2 <- readRDS("~/jsPsych/pilotresults/results/id=15&p_id=9a9a5d829a47b6fd6fea406c63a103b4541b9c797bfbc8f56f667acdca59ad63&save_id=3&pilot=false&complete=true.rds")
pil3 <- readRDS("~/jsPsych/pilotresults/results/id=17&p_id=09e9db0b3167a349e7eb727b49cc0e6b8923209f01da9f326350154f08c63c70&save_id=3&pilot=false&complete=true.rds")
pil4 <- readRDS("~/jsPsych/pilotresults/results/id=18&p_id=89bf9c81886a97fe8456cd6307fdfc5496f2da31a69a280d1e7945177c3427f2&save_id=3&pilot=false&complete=true.rds")
pil5 <- readRDS("~/jsPsych/pilotresults/results/id=18&p_id=f99b330c9dbefe4880be8dd3012af7686edfbec14e8a9627416756cd1cecfd7e&save_id=3&pilot=false&complete=true.rds")
View(pil1)
View(pil2)
View(pil3)
View(pil4)
View(pil5)
hej=(fromJSON(as.character(pil1$RT)))
hej2=(hej$summary)
hej3=hej2$rt_real
hej4=na.omit(hej3)
hej4
hej=(fromJSON(as.character(pil2$RT)))
hej2=(hej$summary)
hej3=hej2$rt_real
hej4=na.omit(hej3)
hej4
hej=(fromJSON(as.character(pil3$RT)))
hej2=(hej$summary)
hej3=hej2$rt_real
hej4=na.omit(hej3)
hej4
hej=(fromJSON(as.character(pil4$RT)))
hej2=(hej$summary)
hej3=hej2$rt_real
hej4=na.omit(hej3)
hej4
hej=(fromJSON(as.character(pil5$RT)))
hej2=(hej$summary)
hej3=hej2$rt_real
hej4=na.omit(hej3)
hej4
hej
# mean(hej4[c(2,4,6)])
View(hej)
View(hej4)
hej=(fromJSON(as.character(pil1$RT)))
hej2=(hej$summary)
hej3=hej2$rt_real
hej4=na.omit(hej3)
hej4
# mean(hej4[c(2,4,6)])
View(hej)
View(hej4)
hej=(fromJSON(as.character(pil2$RT)))
hej2=(hej$summary)
hej3=hej2$rt_real
hej4=na.omit(hej3)
hej4
# mean(hej4[c(2,4,6)])
View(hej)
View(hej4)
hej=(fromJSON(as.character(pil3$RT)))
hej2=(hej$summary)
hej3=hej2$rt_real
hej4=na.omit(hej3)
hej4
View(hej4)
hej=(fromJSON(as.character(pil4$RT)))
hej2=(hej$summary)
hej3=hej2$rt_real
hej4=na.omit(hej3)
hej4
View(hej4)
pilaud<-c(213,256,202,224,286)
mean(pilaud)
pilvis<-c(335,312,258,259,277)
mean(pilvis)
pilch<-c(448,358,346,439,439)
mean(pilch)
sd(pilaud)
sd(pilvis)
sd(pilch)
source('~/jsPsych/app.R', encoding = 'UTF-8')
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
slet <- readRDS("~/jsPsych/output/results/id=260&p_id=9c10d18b105948e1116afbd1c359b67a7558a993684c06df937681527147dc70&save_id=3&pilot=false&complete=true.rds")
library(jsonlite)
slet
slet()
as.list(slet)
as.data.frame(slet)
View(slet)
sd(pilaud)
mean(pilvis)
sd(pilvis)
pilch<-c(448,358,346,439,439)
mean(pilch)
sd(pilch)
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
shiny::runApp(".")
